{"version":3,"file":"backand.min.js","sources":["backand.debug.js"],"names":["getSocialUrl","providerName","isSignup","provider","socialProviders","action","label","url","HttpInterceptor","$q","Backand","BackandHttpBufferService","BackandAuthService","request","httpConfig","config","isManagingHttpInterceptor","match","getApiUrl","token","BKStorage","get","headers","anonymousToken","responseError","rejection","isManagingRefreshToken","status","data","Message","refreshToken","getUsername","deferred","defer","append","promise","reject","$rootScope","BackandSocketService","mobileSocialLoginInner","ref","isSignUp","spec","addEventListener","e","indexOf","dummyReturnAddress","close","err","length","slice","urlParsed","URL","dataStr","decodeURI","search","split","replace","userData","JSON","parse","message","callSignupOnSingInSocialError","NOT_SIGNEDIN_ERROR","socialAuth","error_description","self","loginPromise","inSocialSignup","$broadcast","EVENTS","SIGNUP","signinWithToken","email","Error","signUpPromise","isMobile","window","open","apiUrl","appName","socialAuthWindow","removeEventListener","arguments","callee","setUserDataFromToken","event","console","log","origin","location","error","tokenData","grant_type","accessToken","access_token","signupParameters","parameters","authenticate","authData","authenticating","clear","http","method","urls","Content-Type","transformRequest","obj","str","angular","forEach","value","key","push","encodeURIComponent","join","then","response","set","user","resolve","retryAll","SIGNIN","runSocket","login","socketUrl","this","signup","requestResetPassword","resetPassword","changePassword","socialLoginWithCode","socialSingupWithCode","socialLoginWithToken","signin","username","password","appname","signout","rejectAll","SIGNOUT","when","firstName","lastName","confirmPassword","SignUpToken","signUpToken","runSigninAfterSignup","currentStatus","socialSignin","socialSignup","socialSigninWithCode","returnUrl","code","clientId","redirectUri","socialSignupWithCode","firstname","lastname","userName","socialSigninWithToken","encodeURI","refresh_token","newPassword","resetToken","oldPassword","socket","on","io","connect","forceNew","emit","eventName","callback","args","$apply","apply","BackandUserService","getUserDetails","force","success","profile","extend","userDetails","getUserRole","role","Store","storeName","type","storageAPI","getItem","name","params","setItem","removeItem","command","prefix","prototype","stringify","register","remove","userProfileName","github","css","id","google","facebook","twitter","dataRegex","dataMatch","exec","href","opener","postMessage","module","BackandService","setAppName","getSocialProviders","socialSignInToken","socialSignInCode","socialSignUpCode","setIsMobile","val","setRunSignupAfterErrorInSigninSocial","getToken","getTokenName","isManagingDefaultHeaders","isRunSocket","socketLogin","socialSignIn","socialSignUp","setApiUrl","newApiUrl","setSocketUrl","newSocketUrl","setTokenName","setAnonymousToken","setSignUpToken","manageDefaultHeaders","manageHttpInterceptor","undefined","manageRefreshToken","$get","run","$injector","invoke","$http","factory","$httpProvider","interceptors","service","HttpBufferService","retryHttpRequest","successCallback","errorCallback","updater","Authorization","buffer","reason","i"],"mappings":"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"}